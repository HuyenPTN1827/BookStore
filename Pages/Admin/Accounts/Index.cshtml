@page "/Admin/Accounts"
@model BookStore.Pages.Admin.Accounts.IndexModel

@{
	ViewData["Title"] = "Index";
	Layout = "~/Pages/Shared/_Admin.cshtml";
}

<h1 style="text-align:center">Quản Lý Tài Khoản</h1>

<div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2%">
	<div>
		@* <a class="btn btn-outline-success" asp-page="Create">Create New</a> *@
	</div>
	<form asp-action="/Admin/Accounts" method="get">
		<div class="input-group justify-content-end" style="margin-left:auto">
			<div class="form-outline " data-mdb-input-init>
				<input type="search" class="form-control" placeholder="Nhập Vào Từ Tìm Kiếm" name="keyword" value="@Model.Keywords" />
			</div>
			<button type="submit" class="btn btn-outline-primary" data-mdb-ripple-init>Tìm Kiếm</button>
		</div>
	</form>
</div>

@if (Model.Account.Any())
{
	<table class="table" style="text-align:center">
		<thead>
			<tr>
				<th>
					ID
				</th>
				<th>
					@Html.DisplayNameFor(model => model.Account[0].Username)
				</th>
				<th>
					@Html.DisplayNameFor(model => model.Account[0].Password)
				</th>
				<th>
					Họ Tên
				</th>
				<th>
					@Html.DisplayNameFor(model => model.Account[0].Email)
				</th>
				<th>
					Địa Chỉ
				</th>
				<th>
					SĐT
				</th>
				<th>
					Giới Tính
				</th>
				<th>
					Ngày Sinh
				</th>
				<th>
					Vai Trò
				</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in Model.Account)
			{
				<tr>
					<td>
						@Html.DisplayFor(modelItem => item.AccountId)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Username)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Password)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Fullname)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Email)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Address)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Phone)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Gender)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.DoB)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Role.RoleName)
					</td>
					<td>
						<a class="btn btn-outline-primary" asp-page="./Details" asp-route-id="@item.AccountId">Xem</a> &nbsp;
						<a class="btn btn-outline-success" asp-page="./Edit" asp-route-id="@item.AccountId">Sửa</a> &nbsp;
						<a class="btn btn-outline-danger" asp-page="./Delete" asp-route-id="@item.AccountId">Xoá</a>
					</td>
				</tr>
			}
		</tbody>
	</table>
}
else
{
	<div class="text-black-50" style="font-weight:bold; font-size:20px; text-align:center">
		<p>Không tìm thấy kết quả!</p>
	</div>
}